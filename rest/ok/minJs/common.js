$(function(){$("#signupForm").validate({debug:!0,onsubmit:!0,rules:{user:{required:!0,depends:function(e){},min:[2],rangelength:[2,6],max:100},password1:{required:!0},password2:{required:!0,equalTo:"#inputPassword1",depends:function(e){}},url1:{required:!0,url:!0},email1:{required:!0,email:!0},textarea:{required:!0,rangelength:[2,100]},select:{required:!0},optionsRadios:{required:!0},checkbox:{required:!0}},messages:{user:{required:"必填",rangelength:jQuery.validator.format("请输入 一个长度介于 {0} 和 {1} 之间的字符串"),max:$.validator.format("输入最大值为{0}"),min:$.validator.format("值最小不得小于{0}")},password1:{required:"必填"},password2:{required:"必填",equalTo:"密码不一致"},url1:{required:"必填",url:"必须是格式正确的网址"},email1:{required:"必填",email:"邮箱地址格式错误，请重新填写！"},textarea:{required:"必填",rangelength:jQuery.validator.format("请输入 一个长度介于 {0} 和 {1} 之间的字符串")},select:{required:"必填"},checkbox:{required:"必填"}},success:function(e){},groups:{url1:"url1",email1:"email1"},errorElement:"span",errorContainer:".error_box",wrapper:"li",errorClass:"invalid",validClass:"success",highlight:function(e,r){$(e).fadeOut(function(){$(e).fadeIn()})},errorPlacement:function(e,r){"url1"==r.attr("name")||"email1"==r.attr("name")?e.insertAfter(r):e.insertAfter(r)},submitHandler:function(e,r){$(e).ajaxSubmit({callback:function(e,r){return" name = "+e},stus:function(){return"成功"}},r)},invalidHandler:function(e,r){console.log(e.target)}}),$.fn.extend({ajaxSubmit:function(e,r){var t=$(r.target),a=$('<p class="text_p help-block"></p>');$(".text_p").detach(),a.appendTo($(t).find(".form-group>.col-sm-10"));var n=function(r){$.ajax({type:t.attr("method"),url:t.attr("action"),async:!1,dataType:"json",data:t.serialize(),beforeSend:function(e){alert("之前")},complete:function(e,r){alert("请求之后"+r)},success:function(r,a,n){$(t).find(".form-group input,.form-group textarea,.form-group select").each(function(t,n){$(this).closest(".form-group").find(".text_p").text(r[$(this).attr("name")]+e.callback.call(this,this.name)+" 状态值 = "+a)})}}).done(function(e){alert(JSON.stringify(e))})};return this.each(function(e,t){var a=t.nodeName.toLowerCase();void 0!=r?n(r):"form"==a&&$(t).on("submit",n)})}})});